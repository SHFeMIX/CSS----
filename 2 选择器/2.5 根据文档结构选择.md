CSS功能强大，可以通过文档的结构确定使用哪些样式。

### 理解父子关系
CSS发挥功能很大程度上依赖于元素的父子关系。在文档的层次结构中，如果一个元素的位置直接在另一个元素的上方，我们说前者是后者的父元素，后者是前者的子元素。

父元素和子元素是祖辈元素和后代元素的特例。两者之间的区别有：如果两个元素所在的层级是连续的，他们之间是父子关系；如果两个元素之间跨两个层级以上，他们之间是祖辈和后代关系。

body元素是浏览器中默认显示的所有元素的祖辈，而html是整个文档的祖辈。

###后代选择器
后代选择器定义的规则针对特定的结构。后代选择器中，规则中的选择器由两个或多个空格分隔的选择器构成。选择器之间的空格是一种连接符。如果从左向右读选择器，连接符就是“包含”关系。后代选择器两个元素之间的层级间隔可以是无限的。
```CSS
h1 em {color: gray}
/* 选择所有h1元素后代中的em元素 */
```

假设一个文档中有一个侧边栏和一个主区域，侧边栏的背景是蓝色，主区域的背景是白色，且两个区域中都有一个链接列表。此时不能把所有链接都设为蓝色，否则侧边栏中的链接就看不到了。可以使用后代选择器为相同类型的元素应用不同的样式：
```CSS
.sidebar {background: blue}
.main {background: white}

.sidebar a {color: white}
.main a {color: blue}
```

再举个例子，如果想把blockquote重的b元素和常规段落中的b元素都显示为灰色：
```CSS
blockquote b, p b {color: gray}
```

后代选择器一个更容易被人忽视的细节是，文档树中两个元素的距离对是否应用规则没有影响。
```HTML
<div>
    <p>
        <span>aaa</span>
    </p>
</div>
```
```CSS
p span {color: gray}
div span {color: blue}
```
在这个例子中，虽然p距离span更近，但是这两个规则权重相等，所以应用后声明的。

### 选择子元素
有时我们不想选择所有后代元素，值选择一个元素的子元素。比如，选择作为h1元素的子元素的strong元素（而不是层级更深的后代），要使用子代连接符，">" :
```CSS
h1 > strong {color: red}
```

### 选择紧邻同胞元素
若想选择同一个父元素中紧跟在另一个元素后面的元素，要使用紧邻同胞连接符，“+”。

```CSS
h1 + p {margin-top: 0}
/* 把紧跟在h1元素后面的段落的上外边距去掉 */
```

注意，两个元素之间的文本不影响这个规则。这是因为处在中间的文本不算是同胞元素，而是父元素的一部分。

###选择后续同胞
一般同胞连接符使用“～”表示，选则一个元素后面同属一个父元素的所有另一个元素（两个元素不一定非得是紧邻同胞）。例如，如果想把紧跟在h1元素后面的所有段落的上外边距去掉，可以使用后续同胞连接符：
```CSS
h1 ~ p {margin-top: 0}
```